# Система управления коллективами и мероприятиями для рейтинговой стипендии в ИРНИТУ

Проект создается в рамках проектной деятельности и состоит из : 

* Модуль Коллективы - создание коллективов, регистрация участников, отслеживание внутренней деятельности

* Модуль Мероприятия - автоматизация процессов проведения мероприятий ИрНИТУ


## Описание

![image](https://user-images.githubusercontent.com/74527737/207023057-bb733925-d987-4d67-adaa-3d1333abf7f4.png)


## Стэк технологий
<div>
<img src="https://github.com/devicons/devicon/blob/master/icons/postgresql/postgresql-original-wordmark.svg" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
<img src="https://github.com/devicons/devicon/blob/master/icons/nestjs/nestjs-plain-wordmark.svg" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
<img src="https://github.com/devicons/devicon/blob/master/icons/nodejs/nodejs-original-wordmark.svg" title="NodeJS" alt="NodeJS" width="70" height="70"/>&nbsp;    
<img src="https://avatars.githubusercontent.com/u/20165699?s=280&v=4" title="NodeJS" alt="NodeJS" width="70" height="70"/>&nbsp;
<img src="https://github.com/devicons/devicon/blob/master/icons/vuejs/vuejs-original-wordmark.svg" title="NodeJS" alt="NodeJS" width="70" height="70"/>&nbsp;
<img src="https://github.com/devicons/devicon/blob/master/icons/sass/sass-original.svg" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
<img src="https://github.com/devicons/devicon/blob/master/icons/typescript/typescript-original.svg" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
<img src="https://pinia.vuejs.org/logo.svg" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
<img src="https://user-images.githubusercontent.com/7110136/29002858-a09570d2-7ab4-11e7-8faa-5dd6d4458b0d.png" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
  <img src="https://camo.githubusercontent.com/b0c61a6f54e70a0162e1ef05b04f1080ba988fdb78821dd16664568e7fef02d2/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f662f66312f566974656a732d6c6f676f2e7376672f3130333970782d566974656a732d6c6f676f2e7376672e706e67" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
  <img src="https://icons-for-free.com/iconfiles/png/512/Swagger-1324888766897607015.png" title="CSS3" alt="CSS" width="70" height="70"/>&nbsp;
</div>

## База знаний
https://github.com/KomogortsevaYulia/knowledge_base_rating

## Проект находится в стадии реализации
## Тег-система
теги хранятся в файле release-tags.json

**ВАЖНО**

при обновлении основной ветки 

**не забывайте обновлять этот файл по методологии semantic versioning (semver)**

коммитом с паттерном "chore(release-tags): ${tag}"
это необходимо для контроля версий, в большую часть на vds/vps при обновлении деплоя

## CI
### ветки
- **под каждую задачу создаётся своя ветка** с её тегом и индентификатором или семантическим обозначением
примеры: 
- fix/111-task
- feature/111-task
- hotfix/111-task
- hotfix/task

соблюдать паттерн названия веток нужно, так с неправильным названием вы наткнётесь на CI, у нас husky

он попросит вас сменить название ветки, это делается `git checkout -b branch_name`

после этой команды вы сделаете новую ветку от текущего коммита, но с другим названием, проблем не будет

### коммиты
также CI система проверяет валидность коммитов, есть заданные тэги коммитов и длина

#### линтёры
коммиты проверяются линтёрами, если ваш код не отформатирован, то коммит сделать не получится.

отформатируйте код, потом коммитьте

если линтёр ругается на другое место в системе, отформатируйте его тоже.

#### git-cz
удобная обёртка для коммитов

если хотите её попробовать/использовать вместо привычного git commit ...

используйте git cz, там есть готовые тэги, сущности и обёртка для написания описания коммита

таким образом эта штука помогает нам писать понятные, семантические коммиты по commit convention

## CI/CD проекта
нельзя мержить в мастер беспорядочно по этой причине было настроено CI (описано выше)

и введены следующие правила: (см. ниже)

## цикл выполнения задач
состоит из следующих этапов:

```
открытая задача -> 
задача в процессе -> 
ревью выполненной задачи -> 
тестирование -> 
(получение аппрува)
(если бранч устарел) обновление ветки основной веткой -> 
(если бранч задел тег) обновление тэгов -> 
мёрж ветки в мастер (можно через GUI github'а)
```

данная система обновления **позволит создать понятный CI/CD** проекта

кроме того, позволит поддерживать **мастер в стабильном состоянии**

## Docker
### первая итерация докера, сейчас есть:
**.env.example** -> **.env** для конфигурирования **docker-compose.yaml** (дефолтные работают, но лучше проверить порты)

**docker-compose.yaml** - файл, собирающий несколько докер контейнеров вместе и позволяющий им общаться между друг другом. удобный файл для старта, перезагрузки проекта в среде докера.

**Dockerfile** - файл, определяющий слои докера для сборки первичного образа (размещать в публичном репозитории не стал).

образы нужны для создания изолированных контейнеров с какой-то выделенной средой, позволяющей приложению там крутиться.
### предупреждения:
если кто-то решится уже поднимать наш проект в докере через **docker-compose.yaml**, то хочу предупредить о размере образов. так как вы их храните у себя локально, то и место они занимают на вашем диске.

размеры примерно такие: 
- psql: 0.2GB
- be: 0.5GB
- fe: 1.6GB

это образы с минимальными размерами, alpine

+ динамический container virtual size

многовато, но это позволяет развернуть проект с нуля на любой машине, в изолированной среде, не засоряя ваш личный диск node_modules, артефактами, сборками и тд.

_если в процессе возникли вопросы, проблемы - пишите._
### что дальше?
есть потенциальные и реальные проблемы, которые я выделил, буду ресёрчить можно ли их решить:
- использование UFS
- nginx для fe (статика сильно дешевле)